<div class="app-content-container">
  <div class="app-content" *ngIf="publicPosts && publicPosts.length > 0">
    <div class="fp-posts">
      <md-card class="post-card" *ngFor="let post of publicPosts">

        <md-card-header class="post-header">
          <div md-card-avatar
               class="post-header-image"
               [ngStyle]="{'background-image': 'url(' + post.author.profile_picture + ')'}"></div>

          <md-card-title>
            <a class="post-user-link" [href]="'/person/'+post.author.uid">{{ post.author.full_name }}</a>
          </md-card-title>
          <md-card-subtitle>
            <p class="post-location" fxLayout="row" fxLayoutAlign="start center">
              <md-icon>location_on</md-icon>
              <span>{{ locations[0][0].formatted_address }}</span>
            </p>
          </md-card-subtitle>

          <div fxFlex></div>

          <div class="post-time-ago" mdTooltip="{{ post.timestamp | amDateFormat:'dddd, MMMM Do YYYY, h:mm:ss a' }}">{{ post.timestamp | amTimeAgo:true }} ago</div>
        </md-card-header>

        <div md-card-image class="post-image" [ngStyle]="{'background-image': 'url(' + post.full_url + ')'}"></div>

        <md-card-content class="post-content">
          <p *ngIf="false">{{ post.text }}</p>

          <md-chip-list *ngIf="tags">
            <md-chip *ngFor="let tag of tags[0]">{{ tag.description }}</md-chip>
          </md-chip-list>

          <p class="meta-info" fxLayout="row" fxLayoutAlign="start center">
            <md-icon>photo_camera</md-icon>
            <span>{{ cameras[0].make }} {{ cameras[0].model }}</span>
          </p>
          <p class="meta-info" fxLayout="row" fxLayoutAlign="start center" *ngIf="false">
            <md-icon>location_on</md-icon>
            <span>{{ locations[0][0].formatted_address }}</span>
          </p>
        </md-card-content>

        <md-card-actions class="post-actions">
          <div fxLayout="row">
            <button md-icon-button class="btn-like" [ngSwitch]="post.liked" (click)="post.liked = !post.liked">
              <md-icon class="fp-liked" *ngSwitchCase="true">favorite</md-icon>
              <md-icon class="fp-not-liked" *ngSwitchDefault>favorite_border</md-icon>
            </button>
            <md-input-container fxFlex class="comment-input">
              <input mdInput placeholder="Comment..." floatPlaceholder="false" dividerColor="accent">
            </md-input-container>
          </div>
        </md-card-actions>
      </md-card>
    </div>

    <div class="fp-no-posts" *ngIf="!publicPosts || publicPosts.length == 0" fxLayout="column" fxLayoutAlign="center center">
      <img class="placeholder" src="/assets/images/feed-placeholder.gif" />
    </div>
  </div>
</div>
